---
import { getCollection } from 'astro:content'

import { Envelope, Github, Linkedin, Twitter } from '../components/ui/icons'
import Base from '../layouts/Base.astro'
import { Button, Project } from '~/components/ui'
const portfolioEntries = await getCollection('portfolio').then((data) =>
  data.sort((a, b) => a.data.sortOrder - b.data.sortOrder),
)
---

<Base>
  <section>
    <article>
      <div class="container my-20">
        <h4>
          Hello! I'm a <strong class="text-white">fullstack engineer</strong> ðŸš€
          with a focus on frontend. Working with Typescript, React, Solid, and Rust.
        </h4>
        <div class="flex flex-col sm:flex-row justify-between mt-10">
          <div class="flex flex-col sm:flex-row gap-2">
            <Button link href="#about" class="shrink-0">About me</Button>
            <Button href="#portfolio" link fluid>Portfolio</Button>
          </div>
          <Button
            link
            variant="text"
            href="https://twitter.com/gabdem13"
            icon={Twitter}
          >
            @gabdem13
          </Button>
        </div>
      </div>
    </article>
  </section>

  <section class="bg-base rounded-md py-10" id="about">
    <article class="container">
      <h5 class="text-white">About me</h5>
      <p>
        I started to program when I was 15 years old, and I never stopped since
        that day. When I was 18 I began my Technologist Degree in System
        Analysis and Development while working in an internship.
      </p>
      <p>
        When I graduated, I started to work as a fullstack developer, I was
        working with bleeding-edge technology from the very beggining of my
        career.
      </p>
      <p>
        Besides working with tech, I have a passion for languages. I'm fluent in
        English, and I'm currently learning German (A2 Level).
      </p>
      <div class="flex flex-col sm:flex-row gap-3">
        <Button
          href="/gabriel-cv.pdf"
          link
          variant="outlined"
          download="gabriel-cv.pdf"
        >
          Resume.pdf
        </Button>
        <Button
          href="/recommendation-letter.pdf"
          download="recommendation-letter.pdf"
          link
          variant="outlined"
        >
          Recommendation Letter.pdf
        </Button>
      </div>
    </article>
  </section>

  <section id="portfolio">
    <article class="container">
      <h5 class="text-white">Portfolio</h5>
      <p>
        Only my bestest work is listed here. Click on a project to read more
        about it.
      </p>

      <div class="grid lg:grid-cols-1 gap-5">
        {
          portfolioEntries.map((entrie) => (
            <Project
              title={entrie.data.title}
              description={entrie.data.description}
              image={entrie.data.image}
            />
          ))
        }
      </div>
    </article>
  </section>

  <section id="contact">
    <article class="container">
      <h5>Contact</h5>
      <p>You can contact me through:</p>

      <div class="flex flex-wrap">
        <Button
          class="justify-start"
          variant="text"
          icon={Linkedin}
          link
          href="https://linkedin.com/in/gabriel-costa-dev/"
        >
          Linkedin
        </Button>
        <Button
          icon={Github}
          variant="text"
          link
          href="https://github.com/gabrieldemian"
        >
          Github
        </Button>
        <Button
          variant="text"
          link
          href="https://twitter.com/gabdem13"
          icon={Twitter}
        >
          Twitter
        </Button>
        <Button
          variant="text"
          link
          icon={Envelope}
          href="mailto:gabrielgcr45@gmail.com"
        >
          Email
        </Button>
      </div>
    </article>
  </section>
</Base>
